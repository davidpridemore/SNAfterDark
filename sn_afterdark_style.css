:root {
  /* ── Accent Colors ───────────────────────────── */
  --mint-0: 165, 214, 167;
  --mint-1: 185, 234, 187;
  --mint-hover: 123, 199, 147;
  --white: 255, 255, 255;

  /* ── Icon Filter ─────────────────────────────── */
  --mint-icon-filter:
    sepia(10%) saturate(120%) hue-rotate(320deg) brightness(300%) contrast(150%);

  /* ── Tabs ────────────────────────────────────── */
  --now-color_alert--positive-0: 0, 128, 96 !important;
  --now-color_alert--critical-0: 139, 0, 0 !important;
  --now-color_alert--critical-3: 255, 229, 229 !important;
  --now-color_alert--warning-0: 44, 74, 58 !important;     /* dark teal background */
  --now-color_alert--warning-1: 185, 234, 187 !important;  /* mint-1 for readable text */
  --now-color_alert--warning-2: 30, 54, 42 !important;     /* darker teal for hover or borders */
  --now-tabs--indicator-color: var(--mint-0) !important;
  --now-tabs--border-color--selected: var(--mint-0) !important;
  --now-tabs--border-color--active: rgba(var(--mint-0), 0.8) !important;
  --now-tabs--border-color--hover: rgba(var(--mint-0), 0.6) !important;
  --now-tabs-vertical--border-color--selected: var(--mint-0) !important;
  --now-tabs-vertical--border-color--active: rgba(var(--mint-0), 0.8) !important;
  --now-tabs-vertical--border-color--hover: rgba(var(--mint-0), 0.6) !important;
  --now-tabs--color: var(--white) !important;
  --now-tabs--color--selected: var(--mint-0) !important;
  --now-tabs--color--hover: var(--mint-1) !important;

  /* ── Backgrounds ─────────────────────────────── */
  --now-color_background--primary: 3, 45, 66 !important;
  --now-color_background--secondary: 35, 65, 85 !important;
  --now-color_background--tertiary: 61, 86, 104 !important;
  --now-color--neutral-0: var(--now-color_background--secondary) !important;
  --now-color--neutral-9: var(--now-color_background--primary) !important;

  /* ── Pills ───────────────────────────────────── */
  --now-card--background-color: var(--mint-0) !important;
  --now-pill--background-color: var(--mint-0) !important;
  --now-pill--background-color--hover: rgba(var(--mint-0), 0.12) !important;
  --now-pill--background-color--selected: rgba(var(--mint-0), 0.5) !important;
  --now-pill--background-color--selected_hover: 0, 0, 0 !important;
  --now-pill--color: 3, 45, 66 !important;
  --now-pill--color--hover: var(--mint-1) !important;
  --now-pill--color--selected: rgba(0, 0, 0, 0.5) !important;
  --now-pill--color--selected_hover: var(--mint-1) !important;
  --now-pill--border-color--selected_active: var(--mint-0) !important;

  /* ── Typography ──────────────────────────────── */
  --now-heading--header-tertiary--color: var(--white) !important;
  --now-color_text--primary: 255, 255, 255 !important;
  --now-color_text--secondary: 200, 235, 200 !important;
  --now-color_text--tertiary: var(--white) !important;
  --now-label-value-inline--color: var(--now-color_text--secondary) !important;
  --now-heading--header-primary--color: var(--white) !important;
  --now-heading--header-secondary--color: var(--mint-0) !important;
  --now-heading--title-secondary--color: var(--mint-0) !important;
  --now-heading--title-tertiary--color: var(--mint-0) !important;
  --now-checkbox_label--color: var(--now-color_text--primary) !important;
  --now-content-tree--color: var(--now-color_text--primary) !important;

  /* ── Links ───────────────────────────────────── */
  --now-color_link--default: var(--mint-0) !important;
  --now-color_link--hover: var(--mint-1) !important;
  --now-color--link-2: var(--mint-0) !important;
  --now-color--link-3: var(--mint-0) !important;
  --now-text-link--primary--color: var(--mint-0) !important;

  /* ── Buttons ─────────────────────────────────── */
  --now-button--primary--background-color: var(--now-color_background--primary) !important;
  --now-button--primary--background-color--hover: rgba(var(--mint-0), 0.12) !important;
  --now-button--primary--border-color: var(--mint-0) !important;
  --now-button--primary--border-color--hover: var(--mint-1) !important;
  --now-button--primary--color: var(--mint-0) !important;
  --now-button--primary--color--hover: var(--mint-1) !important;
  --now-button--primary--border-width: 1px !important;
  --now-button--secondary--color: var(--mint-0) !important;
  --now-button--secondary--color--hover: var(--mint-1) !important;
  --now-button--tertiary--color: var(--mint-0) !important;
  --now-button--tertiary--color--hover: var(--mint-1) !important;
  --now-button--tertiary--hover-color: var(--mint-1) !important;

  /* ── Icons & Dropdowns ───────────────────────── */
  --now-button-iconic--tertiary--color: var(--mint-0) !important;
  --now-button-iconic--tertiary--hover-color: var(--mint-1) !important;
  --now-button-iconic--bare_tertiary--color: var(--mint-0) !important;
  --now-button_icon--secondary--color: var(--mint-0) !important;
  --now-button_icon--secondary--color--hover: 255, 255, 255 !important;
  --now-dropdown_icon--secondary--color: var(--mint-0) !important;
  --now-dropdown_icon--secondary--color--hover: var(--mint-0) !important;
  --now-dropdown_icon--secondary--color--active: var(--mint-1) !important;
  --now-dropdown--bare_secondary--color: var(--mint-0) !important;
  --now-dropdown--bare_secondary--color--hover: rgba(var(--mint-0), 0.12) !important;
  --now-dropdown_trigger-icon--bare_secondary--color: var(--mint-0) !important;
  --now-dropdown_trigger-icon--bare_secondary--color--hover: rgba(var(--mint-0), 0.12) !important;
  --now-dropdown--primary--background-color: var(--mint-0) !important;
  --now-dropdown--primary--background-color--hover: rgba(var(--mint-0), 0.05) !important;

  /* ── Modals ──────────────────────────────────── */
  --now-modal--background-color: var(--now-color_background--primary) !important;
  --now-modal_heading--color: var(--mint-0) !important;

  /* ── Highlights, Borders, Lists ──────────────── */
  --now-highlighted-value--tertiary_positive--background-color: var(--now-color_background--secondary) !important;
  --now-highlighted-value--tertiary_positive--border-color: var(--mint-0) !important;
  --now-highlighted-value--tertiary_positive--color: var(--mint-0) !important;
  --now-color_border--default: 93, 118, 134 !important;
  --now-record-list--row-background--even: var(--now-color_background--secondary) !important;
  --now-record-list--row-background--odd: var(--now-color_background--primary) !important;
  --now-record-list--row-background--hover: var(--now-color_background--tertiary) !important;
}

/* ── Loader ────────────────────────────────────── */
:root,
now-loader,
workflow-spinner,
now-loading_indicator {
  --now-loader_label--color: var(--white) !important;
}
.now-loader-label,
now-loader::part(label) {
  color: rgb(var(--white)) !important;
}

/* ── Icons ─────────────────────────────────────── */
.icon-search::before {
  content: "";
  display: block;
  background-image: url("https://dev287874.service-now.com/images/magnifying-glass-outline-md-dark.svg");
  background-repeat: no-repeat;
  background-position: center;
  background-size: 1.2em;
  filter: brightness(0) saturate(100%) invert(78%) sepia(14%) saturate(384%) hue-rotate(73deg) brightness(97%) contrast(92%);
}
.spoke-card .scope-details img.snCoreIcon {
  filter: var(--mint-icon-filter) !important;
}

/* ── Base Styles ──────────────────────────────── */
body,
html,
.sn-canvas-appshell-layout,
.sn-ws-root .sn-list-container {
  background: rgb(var(--now-color_background--primary)) !important;
  color: rgb(var(--now-color_text--primary)) !important;
}

/* ── Headings, Tabs, Icons ────────────────────── */
.now-heading.-header.-secondary,
.now-heading.-header.-tertiary,
.now-tab,
.now-icon {
  color: rgb(var(--now-color_text--primary)) !important;
  fill: currentColor !important;
}
.now-heading.-header.-secondary {
  color: rgb(var(--now-heading--header-secondary--color)) !important;
}
.now-tab:hover,
.now-tab:focus,
.now-tab[aria-selected="true"] {
  color: rgb(var(--mint-1)) !important;
}
.now-tab[aria-selected="true"] {
  font-weight: 700;
}

/* ── Links ────────────────────────────────────── */
a,
.now-grid a {
  color: rgb(var(--now-color--link-2)) !important;
}
a:hover,
.now-grid a:hover,
.now-grid tr:hover a {
  color: rgb(var(--now-color_link--hover)) !important;
}

/* ── Inputs & Controls ────────────────────────── */
input,
textarea,
select,
.form-control,
.ui-refresh .btn-secondary {
  background: rgb(var(--now-color_background--tertiary)) !important;
  color: rgb(var(--now-color_text--primary)) !important;
  border-color: rgb(var(--now-color_border--default)) !important;
}

/* ── Cards ────────────────────────────────────── */
now-card.is-interactive,
.now-card.is-interactive,
now-card.is-interactive::part(container) {
  background: rgb(var(--now-color_background--secondary)) !important;
  color: rgb(var(--now-color_text--primary)) !important;
  border: 1px solid rgb(var(--now-color_border--default)) !important;
}
now-card.is-interactive:hover,
.now-card.is-interactive:hover,
now-card.is-interactive:focus-within,
.now-card.is-interactive:focus-within {
  background: rgb(var(--now-color_background--tertiary)) !important;
  border-color: rgb(var(--mint-0)) !important;
}

/* ── Data Panes & Lists ───────────────────────── */
div.data-pane-section ul {
  background: rgb(var(--now-color_background--secondary)) !important;
  border-color: rgb(var(--now-color_border--default)) !important;
}
div.data-pane-section ul > *,
div.pn-content > * {
  background: transparent !important;
  border-color: rgb(var(--now-color_border--default)) !important;
}
div.data-pane-section ul > *:hover,
div.pn-content > *:hover {
  background: rgb(var(--now-color_background--tertiary)) !important;
  border-color: rgb(var(--mint-0)) !important;
  cursor: pointer;
}

.ui-refresh #flow-editor #editor-body > .SplitPane.vertical > .Pane2 .pn-col .pn-content,
.ui-refresh #action-editor #editor-body > .SplitPane.vertical > .Pane.vertical.Pane2 > .SplitPane.vertical > .Pane2 .pn-col .pn-content {
  background: rgb(var(--now-color_background--tertiary)) !important;
}

/* ── Pagination ──────────────────────────────── */
.sn-pagination {
  color: rgb(var(--mint-0)) !important;
  font-size: 1rem;
}
.sn-pagination-btn .now-icon,
.now-button-iconic.-tertiary .now-icon,
.now-button-iconic.is-bare.-tertiary .now-icon {
  color: rgb(var(--mint-0)) !important;
}
.sn-pagination-btn .now-icon[icon="arrow-start-outline"],
.now-button-iconic.-tertiary .now-icon[icon="arrow-start-outline"],
.now-button-iconic.is-bare.-tertiary .now-icon[icon="arrow-start-outline"] {
  color: rgb(var(--mint-0)) !important;
}
.sn-pagination-btn:hover .now-icon[icon="arrow-start-outline"],
.now-button-iconic.-tertiary:hover .now-icon[icon="arrow-start-outline"],
.now-button-iconic.is-bare.-tertiary:hover .now-icon[icon="arrow-start-outline"],
.sn-pagination-btn:focus .now-icon[icon="arrow-start-outline"] {
  color: rgb(var(--mint-1)) !important;
}
.sn-pagination-btn.is-disabled,
.sn-pagination-btn.is-disabled:hover {
  color: rgb(var(--now-color_text--secondary)) !important;
}

/* ── Buttons ──────────────────────────────────── */
.now-button.-primary:not(.is-disabled):hover {
  background-color: rgb(var(--now-color_background--secondary)) !important;
  border-color: rgb(var(--mint-1)) !important;
  color: rgb(var(--mint-1)) !important;
}
.btn-tertiary {
  background-color: rgb(var(--now-color_background--tertiary)) !important;
  border-color: rgb(var(--mint-0)) !important;
  color: rgb(var(--now-color_text--primary)) !important;
}

/* ── Focus Styles ─────────────────────────────── */
:where(a, button, [tabindex]):focus-visible {
  outline: 2px solid rgba(var(--mint-1), 0.8) !important;
  outline-offset: 2px;
}

/* ── Scope, Filter, and Titles ────────────────── */
.scope-name,
.filter-title {
  color: rgb(var(--now-color_text--primary)) !important;
}
.filter-container {
  background-color: rgb(var(--now-color_background--secondary)) !important;
  border-color: rgb(var(--now-color_border--default)) !important;
}

/* ── Select2 Dropdowns ───────────────────────── */
.select2-container .select2-choice {
  position: relative;
}
.select2-container .select2-choice .select2-arrow {
  width: 18px !important;
  padding: 0 !important;
  background: none !important;
  border: none !important;
  box-shadow: none !important;
}
.select2-container .select2-choice .select2-arrow > b {
  display: inline-block;
  width: 0;
  height: 0;
  border-left: 4px solid transparent;
  border-right: 4px solid transparent;
  border-top: 6px solid rgb(var(--mint-0));
  position: relative;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}
.select2-container .select2-choice:hover .select2-arrow > b {
  border-top-color: rgb(var(--mint-1));
}
.select2-container .select2-choice:hover,
.select2-container .select2-choice:focus {
  background: rgba(var(--mint-0), 0.15) !important;
  border-color: rgb(var(--mint-1)) !important;
  color: rgb(var(--mint-1)) !important;
}
.select2-drop,
.select2-results {
  background: rgb(var(--now-color_background--secondary)) !important;
  border: 1px solid rgb(var(--now-color_border--default)) !important;
  color: rgb(var(--now-color_text--primary)) !important;
}
.select2-results .select2-highlighted {
  background: rgba(var(--mint-0), 0.25) !important;
  color: rgb(var(--mint-1)) !important;
}
.select2-drop .select2-search input {
  background: rgb(var(--now-color_background--tertiary)) !important;
  border: 1px solid rgb(var(--now-color_border--default)) !important;
  color: rgb(var(--now-color_text--primary)) !important;
}

/* ── Misc Elements ────────────────────────────── */
.toggle-left img,
.toggle-right img {
  filter: invert(80%) opacity(90%);
}

img[src*="icon-inputs-and-outputs.svg"] {
  filter: brightness(0) saturate(100%) invert(1) !important;
}

div.ff-content:hover {
  background: transparent !important;
}
span.then-text, span.if-then-child {
  color: rgb(var(--now-color_text--primary)) !important;
}
.inline-help-button::before,
.icon.icon-add::before, .icon.icon-connect-close::before {
  filter: saturate(0%) invert(1) brightness(500%) contrast(200%) !important;
}
span.pill-text, .error-handling-label {
  color: rgb(var(--now-color_text--primary)) !important;
}

/* ── Editor & Panes ───────────────────────────── */
.ui-refresh #action-editor #editor-body > .SplitPane.vertical > .Pane.vertical.Pane2 > .SplitPane.vertical > .Pane2 .pn-col h2.pn-title,
.data-pane-title,
h2.pn-title {
  color: rgb(var(--now-color_text--primary)) !important;
  background-color: rgb(var(--now-color_background--primary)) !important;
}

.tab-name {
  background: none !important;
  -webkit-background-clip: border-box !important;
  background-clip: border-box !important;
  -webkit-text-fill-color: white !important;
  color: white !important;
}

/* ── Modals & Overlays ────────────────────────── */
div.spinning, .footer-section, #pop_up_modal_wrapper,
.ReactModal__Content, .ReactModal__Content--after-open, .fd-modal-md, .modal-content, .popupModal {
  background-color: rgba(var(--now-color_background--primary), 0.8) !important;
  color: rgb(var(--now-color_text--primary)) !important;
}

.dot.green{
  background-color: rgb(var(--mint-0)) !important;
  color: rgb(var(--mint-0)) !important; /* fallback for non-circle cases */
}
.state.green {
  color: rgb(var(--mint-0)) !important;
}